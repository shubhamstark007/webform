<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x" crossorigin="anonymous">
     <style>
       .calc {
	margin-top: 50px;
	margin-bottom: 50px;
	padding:20px 50px;
	border:5px solid #AB6C6C;
	background-color: #BB9898;
	clear: both;
}
#result {
	color: rgb(202, 58, 58);
  font-size: 85px;
  text-shadow: 1px 1px 1px #646161;
	height: 150px;
}
    </style>
    <title>Hello, world!</title>
  </head>
  <body>

    <div class="container mt-5">
        <h1>Ouch! That one didnt work, this one will.</h1>
        <p>We are very sorry for the inconvinience.</p>
    </div>
 <div class="container">
      <div class=" clearfix">
        <div class="calc col-sm-6 col-sm-offset-3 col-md-4 col-md-offset-4">
            <h2>Love Calculator</h2>
            <h5>Input two peoples names to calculate the love....</h5>
            <form role="form" class="form-horizontal">
                <div class="form-group">
                    <input type="text" class="form-control" name="names" placeholder="Name One" />
                </div>
                <div class="form-group">
                    <input type="text" class="form-control" name="names" placeholder="Name Two" />
                </div>
                <div class="form-group">
                    <button class="btn btn-danger pull-right" type="submit" id="submit">Calculate</button>
                </div>
            </form>
            <p id="warning" class="text-danger"></p>
            <h1 id="result" class="text-center"></h1>
        </div>
      </div>
    </div>

    <!-- Optional JavaScript; choose one of the two! -->
    <script>
      function love(array) {
		var hold = [],
				result,
				newArray;
		if (array.length > 2) {
				newArray = array.map(function(item, index, array) {
						return item + array[index + 1];
				});
				newArray.forEach(function(item) {
						if (typeof item === "number" && !isNaN(item)) {
								if (item < 10) {
										hold.push(item);
								} else if (item > 9) {
										console.log('Splitting' + item + " into " + item.toString()[0] + " and " + item.toString()[1]);
										hold.push(parseInt(item.toString()[0]));
										hold.push(parseInt(item.toString()[1]));
								}
						} else {
								console.log("failed number check: " + item);
						}
				});
				love(hold);
		} else {
				document.getElementById('result').textContent = array[0] + "" + array[1] + "%";
				result = array[0] + "" + array[1] + "%";
				return result;
		}
}

function calculate() {
		var inputs = document.getElementsByName('names'),
				loves = ["l", "o", "v", "e", "s"],
				countArray = [],
				count,
				names,
				jointNames;
		document.getElementById('warning').textContent = "";
		if (!inputs[0].value || !inputs[1].value) {
				document.getElementById('warning').textContent = "Please enter both names.";
		} else {
				names = "" + inputs[0].value + "" + inputs[1].value + "";
				jointNames = names.toLowerCase();
				countArray = loves.map(function(item) {
						count = 0;
						for (var i = 0; i < jointNames.length; i += 1) {
								if (item === jointNames[i]) {
										count += 1;
								}
						}
						return count;
				});
				love(countArray);
		}
}

document.getElementById('submit').addEventListener('click', function(e) {
		e.preventDefault();
		calculate();
}, false);
    </script>

    <!-- Option 1: Bootstrap Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-gtEjrD/SeCtmISkJkNUaaKMoLD0//ElJ19smozuHV6z3Iehds+3Ulb9Bn9Plx0x4" crossorigin="anonymous"></script>

    <!-- Option 2: Separate Popper and Bootstrap JS -->
    <!--
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.min.js" integrity="sha384-Atwg2Pkwv9vp0ygtn1JAojH0nYbwNJLPhwyoVbhoPwBhjQPR5VtM2+xf0Uwh9KtT" crossorigin="anonymous"></script>
    -->
  </body>
</html>
